{
  "name": "ssprove-devcontainer",
  
  // from nixos/nixpkgs
  "image": "mcr.microsoft.com/devcontainers/universal:2-linux",
  //"features": {
    //"ghcr.io/devcontainers/features/nix:1": {
      //"multiUser": false,
      //"extraNixConfig": "experimental-features = nix-command flakes,sandbox = true"
    //}
  //},
  // Fixup permissions inside container.
  // https://github.com/NixOS/nix/issues/6680#issuecomment-1230902525
  //"postCreateCommand": "sudo apt-get install -y acl",
  //"postStartCommand": "sudo setfacl -k /tmp; if [ -e /dev/kvm ]; then sudo chgrp $(id -g) /dev/kvm; fi",

  "customizations": {
    "vscode": {
      "settings": {
        "nixEnvSelector.nixFile": "${workspaceFolder}/shell.nix"
      },
      "extensions": [
        "arrterian.nix-env-selector",
        "ejgallego.coq-lsp"
      ]
    }
  }
}
